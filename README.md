This repo contains an personal game project of mine that turned into a research project into using in-memory database techniques for an [Entity Component System (ECS)](https://en.wikipedia.org/wiki/Entity_component_system). The interesting bits you'll find in this repo are:
* [An MB+ tree implementation.](Game/Database/MBPlusTree.h) This is a variant of B+ trees that always contains three levels and uses a sorted contiguous array at the root, which exploits the fact that the workload of a B+ tree closer to the root is read-heavy.
* [A columnar representation](Game/Database/Columnar.h) that provides nice syntax for manipulation of [database rows](Game/Database/Row.h) via C++ templates. [Boost MPL](https://github.com/boostorg/mpl) is used for template metaprogramming.
* A set of operations for building queries over MB+ tree indices (see the various files in [Game/Database](Game/Database)). For example, [MergeJoin.h](Game/Database/MergeJoin.h) provides a join for indices sorted on the same key, while [FindJoin.h](Game/Database/FindJoin.h) works for any indices. The query operators are all implemented as C++ templates, which enables AoT code generation for the static set of queries present in game system simulations.
* [A work-stealing task system](Game/Concurrency) implemented on top of [User-Mode Scheduling (UMS)](https://learn.microsoft.com/en-us/windows/win32/procthread/user-mode-scheduling), which strike a balance between system threads (each UMS thread has its own stack) and fibers (UMS threads are scheduled in user-mode).
* [A game loop implementation](Game/Core/GameLoop.cpp) that uses filtered moving averages to predict both simulation and rendering times, and uses those predictions to achieve smooth frame pacing.
